# API Reference

Complete API documentation for EdgeAI SDK.

> **Note**: Detailed API documentation is auto-generated by Dokka. See [generated docs](../../../build/dokka/) or run `./gradlew :EdgeAI:dokkaHtml`

---

## Core APIs

### Chat API

**`EdgeAI.chat(request: ChatRequest): Flow<ChatResponse>`**

Send chat completion requests to AI models.

**Key Parameters**:
- `messages` - List of chat messages (required)
- `model` - Model ID (null = engine default)
- `temperature` - 0-2, controls randomness (default: 1.0)
- `maxCompletionTokens` - Limits response length
- `stream` - Enable streaming responses (default: false)

**See**:
- [ChatRequest](../../src/main/aidl/com/mtkresearch/breezeapp/edgeai/ChatRequest.aidl) - Full parameter list
- [Usage examples](../../src/test/java/com/mtkresearch/breezeapp/edgeai/EdgeAITest.kt) - Working code examples

---

### Text-to-Speech API

**`EdgeAI.tts(request: TTSRequest): Flow<TTSResponse>`**

Convert text to speech audio.

**Key Parameters**:
- `input` - Text to convert (max 4096 chars)
- `voice` - Voice style (alloy, echo, fable, onyx, nova, shimmer)
- `speed` - 0.25-4.0, playback speed (default: 1.0)
- `responseFormat` - Audio format (mp3, wav, pcm, etc.)

**See**:
- [TTSRequest](../../src/main/aidl/com/mtkresearch/breezeapp/edgeai/TTSRequest.aidl) - Full parameter list
- [Usage examples](../../src/test/java/com/mtkresearch/breezeapp/edgeai/EdgeAITest.kt) - Working code examples

---

### Speech-to-Text API

**`EdgeAI.asr(request: ASRRequest): Flow<ASRResponse>`**

Transcribe audio to text.

**Key Parameters**:
- `file` - Audio data (ByteArray)
- `language` - Language code (null = auto-detect)
- `responseFormat` - json, text, srt, verbose_json, vtt
- `stream` - Enable streaming transcription

**See**:
- [ASRRequest](../../src/main/aidl/com/mtkresearch/breezeapp/edgeai/ASRRequest.aidl) - Full parameter list
- [Usage examples](../../src/test/java/com/mtkresearch/breezeapp/edgeai/EdgeAITest.kt) - Working code examples

---

## Initialization

### `EdgeAI.initializeAndWait(context: Context, timeoutMs: Long = 10000)`

Initialize SDK and wait for connection to BreezeApp Engine.

**Throws**: `ServiceConnectionException` if BreezeApp Engine unavailable

### `EdgeAI.shutdown()`

Shutdown SDK and release resources.

---

## Builder Functions

Convenient builder functions for common use cases:

- `chatRequest()` - Simple chat completion
- `chatRequestWithHistory()` - Chat with conversation history
- `ttsRequest()` - Text-to-speech
- `asrRequest()` - Speech-to-text
- `asrRequestDetailed()` - Speech-to-text with timestamps

**See**: [EdgeAIBuilders.kt](../../src/main/java/com/mtkresearch/breezeapp/edgeai/EdgeAIBuilders.kt) for implementation

---

## Data Models

All request/response models are defined as AIDL Parcelable:

**Request Models**:
- [ChatRequest.aidl](../../src/main/aidl/com/mtkresearch/breezeapp/edgeai/ChatRequest.aidl)
- [TTSRequest.aidl](../../src/main/aidl/com/mtkresearch/breezeapp/edgeai/TTSRequest.aidl)
- [ASRRequest.aidl](../../src/main/aidl/com/mtkresearch/breezeapp/edgeai/ASRRequest.aidl)
- [GuardrailRequest.aidl](../../src/main/aidl/com/mtkresearch/breezeapp/edgeai/GuardrailRequest.aidl)

**Response Models**:
- [AIResponse.aidl](../../src/main/aidl/com/mtkresearch/breezeapp/edgeai/AIResponse.aidl) - Base response type

**See**: [AIDL source files](../../src/main/aidl/com/mtkresearch/breezeapp/edgeai/) for complete definitions

---

## Exception Types

```kotlin
sealed class EdgeAIException : Exception() {
    class ServiceConnectionException(message: String)
    class InvalidRequestException(message: String)
    class TimeoutException(message: String)
    class NetworkException(message: String)
    class AuthenticationException(message: String)
    class UnknownException(message: String)
}
```

**See**: [Error Handling](./error-handling.md) for detailed handling strategies

---

## Examples

**All examples are in unit tests** (always up-to-date, always work):

- [EdgeAITest.kt](../../src/test/java/com/mtkresearch/breezeapp/edgeai/EdgeAITest.kt) - Complete API tests
- [EdgeAIUsageExample.kt](../../src/main/java/com/mtkresearch/breezeapp/edgeai/EdgeAIUsageExample.kt) - Usage patterns

**Topics covered**:
- Basic chat completion
- Streaming responses
- Multi-turn conversations
- Text-to-speech
- Speech-to-text
- Error handling
- Cancellation

---

## Related Documentation

- [Getting Started](./getting-started.md) - Quick start guide
- [Usage Guide](./usage-guide.md) - Advanced usage
- [Error Handling](./error-handling.md) - Exception handling
- [Best Practices](./best-practices.md) - Production tips